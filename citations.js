allCitations = {
    "junqueira2022solar": 'Junqueira Saldanha, M. H., & Hirata, Y. (2022). Solar activity facilitates daily forecasts of large earthquakes. Chaos: An Interdisciplinary Journal of Nonlinear Science, 32(6).',
    "junqueira2025role": 'Junqueira Saldanha, M. H., Shiro, M., Yagi, Y., & Hirata, Y. (2025). The role of solar heat in earthquake activity. Chaos: An Interdisciplinary Journal of Nonlinear Science, 35(3).',
    "beroza2021machine": 'Beroza, G. C., Segou, M., & Mostafa Mousavi, S. (2021). Machine learning and earthquake forecasting—next steps. Nature communications, 12(1), 4761.',
    "stein2003introduction": 'Stein, S., Wysession, M., & Houston, H. (2003). An Introduction to Seismology, Earthquakes, and Earth Structure. Physics Today, 56(10), 66-68.',
    "hirata2016plosone": 'Hirata, Y., Amigó, J. M., Matsuzaka, Y., Yokota, R., Mushiake, H., & Aihara, K. (2016). Detecting causality by combined use of multiple methods: Climate and brain examples. PloS one, 11(7), e0158572.',
    "andrzejak2011characterizing": 'Andrzejak, R. G., & Kreuz, T. (2011). Characterizing unidirectional couplings between point processes and flows. Europhysics Letters, 96(5), 50012.',
    "stark1999": 'Stark, J. (1999). Delay embeddings for forced systems. I. Deterministic forcing. Journal of Nonlinear Science, 9(3), 255-332.',
    "devries2018deep": 'DeVries, P. M., Viégas, F., Wattenberg, M., & Meade, B. J. (2018). Deep learning of aftershock patterns following large earthquakes. Nature, 560(7720), 632-634.',
    "ide2016naturegeoscience": 'Ide, S., Yabe, S., & Tanaka, Y. (2016). Earthquake potential revealed by tidal influence on earthquake size–frequency statistics. Nature Geoscience, 9(11), 834-837.',
    "hao2019evidence": 'Hao, J., Zhang, J., & Yao, Z. (2019). Evidence for diurnal periodicity of earthquakes from midnight to daybreak. National Science Review, 6(5), 1016-1023.',
    "sawicki1999myths": 'Sawicki, M. (1999). Myths about gravity and tides. Physics Teacher, 37, 438-441.',
    "agnew2005earth": 'Agnew, D. C. (2005). Earth tides: An introduction. University of California, San Diego.',
    "longman1959formulas": 'Longman, I. M. (1959). Formulas for computing the tidal accelerations due to the moon and the sun. Journal of Geophysical Research, 64(12), 2351-2355.',
    "san2014unraveling": 'Liang, X. S. (2014). Unraveling the cause-effect relation between time series. Physical Review E, 90(5), 052150.',
    "yabe2015tidal": 'Yabe, S., Tanaka, Y., Houston, H., & Ide, S. (2015). Tidal sensitivity of tectonic tremors in Nankai and Cascadia subduction zones. Journal of Geophysical Research: Solid Earth, 120(11), 7587-7605.',
    "kang2019review": 'Kang, J. Q., Zhu, J. B., & Zhao, J. (2019). A review of mechanisms of induced earthquakes: from a view of rock mechanics. Geomechanics and Geophysics for Geo-Energy and Geo-Resources, 5(2), 171-196.',
    "huang2000temperature": 'Huang, S., Pollack, H. N., & Shen, P. Y. (2000). Temperature trends over the past five centuries reconstructed from borehole temperatures. Nature, 403(6771), 756-758.',
    "kalogirou2004measurements": 'Kalogirou, S. A., & Florides, G. A. (2004). Measurements of ground temperature at various depths. In International Conference on Sustainable Energy Technologies.',
    "brodsky2003mechanism": 'Brodsky, E. E., Roeloffs, E., Woodcock, D., Gall, I., & Manga, M. (2003). A mechanism for sustained groundwater pressure changes induced by distant earthquakes. Journal of Geophysical Research: Solid Earth, 108(B8).',
    "wang2021earthquakes": 'Wang, C. Y., & Manga, M. (2021). Water and earthquakes (p. 387). Springer Nature.',
    "ueda2019seasonal": 'Ueda, T., & Kato, A. (2019). Seasonal variations in crustal seismicity in San‐in district, southwest Japan. Geophysical Research Letters, 46(6), 3172-3179.',
    "heki2003snow": 'Heki, K. (2003). Snow load and seasonal variation of earthquake occurrence in Japan. Earth and Planetary Science Letters, 207(1-4), 159-164.',
    "wang2024untangling": 'Wang, Q. Y., Cui, X., Frank, W. B., Lu, Y., Hirose, T., & Obara, K. (2024). Untangling the environmental and tectonic drivers of the Noto earthquake swarm in Japan. Science advances, 10(19), eado1469.',
    "liu2009slow": 'Liu, C., Linde, A. T., & Sacks, I. S. (2009). Slow earthquakes triggered by typhoons. Nature, 459(7248), 833-836.',
    "fan2019stormquakes": 'Fan, W., McGuire, J. J., de Groot‐Hedlin, C. D., Hedlin, M. A., Coats, S., & Fiedler, J. W. (2019). Stormquakes. Geophysical Research Letters, 46(22), 12909-12918.',
    "nishida2017ambient": 'Nishida, K. (2017). Ambient seismic wave field. Proceedings of the Japan Academy, Series B, 93(7), 423-448.',
    "gualtieri2018persistent": 'Gualtieri, L., Camargo, S. J., Pascale, S., Pons, F. M., & Ekström, G. (2018). The persistent signature of tropical cyclones in ambient seismic noise. Earth and Planetary Science Letters, 484, 287-294.',
    "hirata2021recurrence": 'Hirata, Y. (2021). Recurrence plots for characterizing random dynamical systems. Communications in Nonlinear Science and Numerical Simulation, 94, 105552.',
    "pan2023annual": 'Pan, Y., Cheng, L., von Schuckmann, K., Trenberth, K. E., Li, G., Abraham, J., ... & Liu, C. (2023). Annual cycle in upper-ocean heat content and the global energy budget. Journal of Climate, 36(15), 5003-5026.',
    "seneviratne2010investigating": 'Seneviratne, S. I., Corti, T., Davin, E. L., Hirschi, M., Jaeger, E. B., Lehner, I., ... & Teuling, A. J. (2010). Investigating soil moisture–climate interactions in a changing climate: A review. Earth-Science Reviews, 99(3-4), 125-161.',
    "luxburg2011statistical": 'Von Luxburg, U., & Schölkopf, B. (2011). Statistical learning theory: Models, concepts, and results. In Handbook of the History of Logic (Vol. 10, pp. 651-706). North-Holland.',
    "vapnik1998statistical": 'Vapnik, V. N. Statistical learning theory. [S.l.]: John Wiley and Sons, 1998.',
    "xu1992spatiotemporal": 'Xu, J., Zhao, Z., & Oike, K. (1992). Spatiotemporal distribution of seismic activity in East Asia and its relation to regional stress field. Acta Seismologica Sinica, 5(2), 263-269.',
    "tenenbaum2012earthquake": 'Tenenbaum, J. N., Havlin, S., & Stanley, H. E. (2012). Earthquake networks based on similar activity patterns. Physical Review E—Statistical, Nonlinear, and Soft Matter Physics, 86(4), 046107.',
    "takayama1992correlation": 'Takayama, H., & Yoshida, A. (1992). Correlation of seismic activities in the Kanto, Tokai, and Kinki regions. Jishin, 45(2), 247-254.',
    "brodsky2006long": 'Brodsky, E. E. (2006). Long‐range triggered earthquakes that continue after the wave train passes. Geophysical Research Letters, 33(15).',
    "mantovani2010long": 'Mantovani, E., Viti, M., Babbucci, D., Albarello, D., Cenni, N., & Vannucchi, A. (2010). Long-term earthquake triggering in the Southern and Northern Apennines. Journal of Seismology, 14(1), 53-65.',
    "asencio2016sensitivity": 'Asencio-Cortés, G., Martínez-Álvarez, F., Morales-Esteban, A., & Reyes, J. (2016). A sensitivity study of seismicity indicators in supervised learning to improve earthquake prediction. Knowledge-Based Systems, 101, 15-30.',
    "reyes2013neural": 'Reyes, J., Morales-Esteban, A., & Martínez-Álvarez, F. (2013). Neural networks to predict earthquakes in Chile. Applied Soft Computing, 13(2), 1314-1328.',
    "panakkat2007neural": 'Panakkat, A., & Adeli, H. (2007). Neural network models for earthquake magnitude prediction using multiple seismicity indicators. International journal of neural systems, 17(01), 13-33.'
}

makeCitations = function(){
    var slides = document.querySelectorAll(".reveal .slides section");
    slides.forEach( slide => {
        var spans = slide.querySelectorAll("span");
        if(spans.length === 0){
            return;
        }
        var footnoteDiv = document.createElement("div");
        footnoteDiv.classList = ["footnotes"];
        var citationCounter = 1;
        spans.forEach(span => {
            if(span.classList.contains("footfullcite")){
                var handle = span.innerHTML; // Using innerHTML since innerText apparently is blank when inside a 'fragment'
                var superscript = "<sup>" + String(citationCounter) + "</sup>"
                span.innerHTML = superscript;
                var newP = document.createElement("p");
                if(!allCitations[handle]){
                    console.error("Could not find citation: " + handle);
                }
                newP.innerHTML = superscript + " " + allCitations[handle];
                footnoteDiv.appendChild(newP);
                citationCounter = citationCounter + 1;
            }
        });
        if(citationCounter !== 1){
            slide.appendChild(footnoteDiv);
        }
    });
}